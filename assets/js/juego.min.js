const miModulo=(()=>{"use strict";let e=[];const t=["C","D","H","S"],s=["A","J","Q","K"];let r=[];const a=document.querySelector("#btnPedir"),n=document.querySelector("#btnDetener"),o=document.querySelectorAll(".divCartas"),c=document.querySelectorAll("small"),l=(t=2)=>{e=d(),r=[];for(let e=0;e<t;e++)r.push(0);c.forEach(e=>e.innerText=0),o.forEach(e=>e.innerHTML=""),a.disabled=!1,a.classList.remove("btn-secondary"),a.classList.add("btn-primary"),n.disabled=!1,n.classList.remove("btn-secondary"),n.classList.add("btn-primary")},d=()=>{e=[];for(let s=2;s<=10;s++)for(const r of t)e.push(s+r);for(const r of s)for(const s of t)e.push(r+s);return _.shuffle(e)},i=()=>{if(0===e.length)throw new Error("No quedan cartas disponibles");return e.pop()},u=e=>{const t=e.substring(0,e.length-1),s="A"===t?11:10;return isNaN(t)?s:1*t},m=(e,t)=>(r[t]=r[t]+u(e),c[t].innerText=r[t],r[t]),b=(e,t)=>{const s=document.createElement("img");s.src=`assets/cartas/${e}.png`,s.classList.add("carta"),o[t].append(s)},p=()=>{const[e,t]=r;setTimeout(()=>{t===e?alert("Empate!"):e>21?alert("La computadora gana!"):t>21?alert("Has ganado!"):alert("La computadora gana!")},200)},f=e=>{let t=0;do{const s=i();if(t=m(s,r.length-1),b(s,r.length-1),e>21)break}while(t<e);p()};a.addEventListener("click",()=>{const e=i(),t=m(e,0);b(e,0),(t>21||21===t)&&(h(),L(),f(t))}),n.addEventListener("click",()=>{h(),L(),f(r[0])});const L=()=>{n.classList.remove("btn-primary"),n.classList.add("btn-secondary"),n.disabled=!0},h=()=>{a.classList.remove("btn-primary"),a.classList.add("btn-secondary"),a.disabled=!0};return{nuevoJuego:l}})();